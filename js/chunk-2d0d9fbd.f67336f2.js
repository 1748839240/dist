(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d9fbd"],{"6a51":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{height:"50px","line-height":"50px",background:"#eee"}},[n("span",{staticClass:"iconfont icon-left",staticStyle:{padding:"0 10px"},on:{click:function(t){return e.goUpperStory()}}}),n("span",[e._v("修改登录密码")])]),n("div",[n("van-cell-group",[n("van-field",{attrs:{type:"text",label:"用户名",placeholder:"手机号或者邮箱",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码",required:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[n("van-button",{attrs:{slot:"button",disabled:e.enable,size:"small",type:"primary"},on:{click:function(t){return e.getVerificationCode()}},slot:"button"},[e._v(e._s(e.verification_Info))])],1),n("van-field",{attrs:{type:"password",label:"原密码",placeholder:"请输入原密码",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("van-field",{attrs:{type:"password",label:"新密码",placeholder:"请输入新密码",required:""},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),n("van-field",{attrs:{type:"password",label:"新重复密码",placeholder:"请输入新重复密码",required:""},model:{value:e.reNewPassword,callback:function(t){e.reNewPassword=t},expression:"reNewPassword"}})],1)],1),n("div",[n("van-button",{attrs:{type:"primary",block:""},on:{click:function(t){return e.modifyPsd()}}},[e._v("确认修改")])],1)])},s=[],a={data:function(){return{phone:null,password:null,code:null,num:300,verification_Info:"获取验证码",enable:!1,newPassword:null,reNewPassword:null}},mounted:function(){},methods:{goUpperStory:function(){this.$router.go(-1)},getVerificationCode:function(){var e=this,t=this.phoneFun(this.phone);if(this.phone&&t){var n={sendType:"con_smstype_forgetpassword",phone:this.phone};this.$axios.post("ym/public/member-send-verifycode",n).then((function(t){0===t.data.code?(e.$Notify({type:"success",message:t.data.msg}),e.enable=!0,e.countDown()):t.data.data?(e.$Notify({type:"warning",message:t.data.msg}),e.enable=!0,e.num=t.data.data.residueSecond,e.countDown()):403===t.data.code&&e.$Notify({type:"warning",message:"请重新登录！"})}))}else this.$Notify({type:"danger",message:"手机号格式不正确,请重新输入!"})},phoneFun:function(e){var t=/^[1][3,4,5,7,8,9][0-9]{9}$/;return!!t.test(e)},countDown:function(){var e=setTimeout(this.countDown,1e3);this.num=this.num-1,this.verification_Info=this.num+"秒后再试",0===this.num&&(this.num=300,this.enable=!1,this.verification_Info="获取验证码",clearTimeout(e))},modifyPsd:function(){var e=this,t={phone:this.phone,phoneCode:this.code,oldPassword:this.password,password:this.newPassword,rePassword:this.reNewPassword};this.$axios.post("ym/memberuser/member-modify-password",t).then((function(t){403===t.data.code?(e.$Notify({type:"success",message:t.data.msg}),setTimeout((function(){e.$router.push("/")}),1e3)):e.$Notify({type:"warning",message:t.data.msg})}))}}},i=a,r=n("2877"),d=Object(r["a"])(i,o,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0d9fbd.f67336f2.js.map