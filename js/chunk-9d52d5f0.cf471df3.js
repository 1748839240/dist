(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d52d5f0"],{"083d":function(t,e,s){},6268:function(t,e,s){"use strict";var i=s("a77f"),o=s.n(i);o.a},a434:function(t,e,s){"use strict";var i=s("23e7"),o=s("23cb"),n=s("a691"),a=s("50c4"),c=s("7b0b"),r=s("65f0"),l=s("8418"),d=s("1dde"),u=Math.max,v=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d("splice")},{splice:function(t,e){var s,i,d,m,p,g,_=c(this),b=a(_.length),x=o(t,b),C=arguments.length;if(0===C?s=i=0:1===C?(s=0,i=b-x):(s=C-2,i=v(u(n(e),0),b-x)),b+s-i>h)throw TypeError(f);for(d=r(_,i),m=0;m<i;m++)p=x+m,p in _&&l(d,m,_[p]);if(d.length=i,s<i){for(m=x;m<b-i;m++)p=m+i,g=m+s,p in _?_[g]=_[p]:delete _[g];for(m=b;m>b-i+s;m--)delete _[m-1]}else if(s>i)for(m=b-i;m>x;m--)p=m+i-1,g=m+s-1,p in _?_[g]=_[p]:delete _[g];for(m=0;m<s;m++)_[m+x]=arguments[m+2];return _.length=b-i+s,d}})},a77f:function(t,e,s){},b0c0:function(t,e,s){var i=s("83ab"),o=s("9bf2").f,n=Function.prototype,a=n.toString,c=/^\s*function ([^ (]*)/,r="name";!i||r in n||o(n,r,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},b41c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=this,s=e.$createElement,i=e._self._c||s;return i("div",[i("div",{staticClass:"title"},[i("span",{staticClass:"iconfont icon-left gobackIcon",on:{click:function(){t.$router.go(-1)}}}),i("p",[e._v("订单管理")])]),i("div",{staticClass:"tabListSty"},[e.orderList.length<1?i("nodataPage"):e._e(),i("van-tabs",{attrs:{"line-height":"2px","title-active-color":"#0cbccb",color:"#0cbccb"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.tabItem,(function(t){return i("van-tab",{key:t,attrs:{title:t}},e._l(e.orderList,(function(t){return i("van-card",{key:t.id},[i("div",{attrs:{slot:"thumb"},slot:"thumb"},[i("img",{staticStyle:{width:"70px"},attrs:{src:t.product.mainImage,alt:""}})]),i("div",{staticClass:"titleSty",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.product.productName))]),i("div",{staticStyle:{"margin-top":"20px","font-size":"16px","font-weight":"normal"},attrs:{slot:"price"},slot:"price"},[e._v("合计："+e._s(t.orderAmount))]),i("div",{staticStyle:{margin:"20px 10px"},attrs:{slot:"num"},slot:"num"},[e._v("数量："+e._s(t.quantity))]),0===e.active?i("div",{staticClass:"send",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"orderInfo"},[i("div",{staticClass:"leftText"},[i("p",[e._v("订单编号："+e._s(t.orderSn))]),i("p",[e._v("支付时间："+e._s(t.createDate))])]),i("div",{staticClass:"rightButton"},[i("van-button",{staticClass:"btn",on:{click:function(s){e.show=!0,e.itemindex=t.id}}},[e._v("发货")])],1)]),i("div",{staticClass:"userInfo"},[i("div",{staticClass:"leftText"},[i("p",[e._v("收货人："+e._s(t.receiverName))]),i("p",[e._v("收货地址："+e._s(t.deliverAddress))])]),i("div",{staticClass:"rightPhone"},[e._v(e._s(t.mobileNo))])])]):e._e(),1===e.active||2===e.active?i("div",{staticClass:"send",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"orderInfo"},[i("div",{staticClass:"leftText"},[i("p",[e._v("订单编号："+e._s(t.orderSn))]),i("p",[e._v("支付时间："+e._s(t.createDate))]),i("p",[e._v("快递公司："+e._s(t.expressType))]),i("p",[e._v("快递单号："+e._s(t.deliveryCode))])]),i("div",{staticClass:"rightStatus"},[1===e.active?i("span",[e._v("待收货")]):e._e(),2===e.active?i("div",[i("img",{staticStyle:{width:"14px",height:"14px"},attrs:{src:"https://gve.oss-cn-beijing.aliyuncs.com/2020/02/06/1580965582740.png",alt:""}}),i("span",[e._v("已收货")])]):e._e()])]),i("div",{staticClass:"userInfo"},[i("div",{staticClass:"leftText"},[i("p",[e._v("收货人："+e._s(t.receiverName))]),i("p",[e._v("收货地址："+e._s(t.deliverAddress))])]),i("div",{staticClass:"rightPhone"},[e._v(e._s(t.mobileNo))])])]):e._e()])})),1)})),1)],1),i("van-action-sheet",{staticClass:"actionSheet",staticStyle:{height:"60%"},on:{select:e.onSelect},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("div",{staticClass:"titleInput"},[i("p",[e._v("快递单号")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.trackingNumber,expression:"trackingNumber"}],attrs:{type:"text",placeholder:"请填写快递单号"},domProps:{value:e.trackingNumber},on:{input:function(t){t.target.composing||(e.trackingNumber=t.target.value)}}})]),i("div",{staticClass:"picker"},[i("van-picker",{ref:"getValues",attrs:{columns:e.columns},on:{change:e.onChange}})],1),i("div",{staticClass:"bottomBtn"},[i("van-button",{staticClass:"btn",attrs:{block:""},on:{click:function(t){return e.ship()}}},[e._v("确认发货")])],1)])],1)},o=[],n=(s("4160"),s("a434"),s("b0c0"),s("159b"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nodata"},[s("img",{attrs:{src:"https://gve.oss-cn-beijing.aliyuncs.com/2020/02/06/1580966882535.png",alt:""}})])}],c={data:function(){return{}}},r=c,l=(s("e60b"),s("2877")),d=Object(l["a"])(r,n,a,!1,null,"14575cb6",null),u=d.exports,v={components:{nodataPage:u},data:function(){return{active:0,tabItem:["待发货","待收货","已收货"],columns:[],show:!1,trackingNumber:null,orderList:[],itemindex:null}},created:function(){var t=this;this.$axios.get("ym/express/list").then((function(e){console.log(e),0===e.code&&e.data.forEach((function(e){t.columns.push(e.name)}))})),this.$axios.get("ym/online-merchant-order/list?page=1&limit=5&orderStatus=0").then((function(e){if(console.log(e),0===e.code){var s=e.data.records;s.forEach((function(e){t.orderList.push(e)})),console.log(t.orderList)}}))},mounted:function(){this.getcommodityList(0)},watch:{active:function(t){console.log(t),this.orderList=[],this.getcommodityList(t)}},methods:{onChange:function(t,e,s){window.console.log(e,s)},onSelect:function(t){this.show=!1,window.console.log(t)},getcommodityList:function(t){var e=this;this.$axios.get("ym/online-merchant-order/list?page=1&limit=5&orderStatus=".concat(t)).then((function(t){if(0===t.code){var s=t.data.records;s.forEach((function(t){e.orderList.push(t)})),console.log(e.orderList)}}))},ship:function(){var t=this;console.log(this.trackingNumber);var e={id:this.itemindex,expressType:this.$refs.getValues.getValues()[0],deliveryCode:this.trackingNumber};console.log(e),this.$axios.post("ym/online-merchant-order/deliver",e).then((function(e){console.log(e),0===e.data.code?(t.$Toast("发货成功"),t.show=!1,t.orderList.forEach((function(e,s){t.itemindex===e.id&&t.orderList.splice(s,1)}))):t.$Toast("发货失败")}))}}},h=v,f=(s("6268"),Object(l["a"])(h,i,o,!1,null,"59c72912",null));e["default"]=f.exports},e60b:function(t,e,s){"use strict";var i=s("083d"),o=s.n(i);o.a}}]);
//# sourceMappingURL=chunk-9d52d5f0.cf471df3.js.map