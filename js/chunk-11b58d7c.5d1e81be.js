(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11b58d7c"],{"18a0":function(t,e){!function(e,i){t.exports=i(e)}(window,(function(t,e){function i(e,i,n){t.WeixinJSBridge?WeixinJSBridge.invoke(e,a(i),(function(t){r(e,t,n)})):d(e,n)}function n(e,i,n){t.WeixinJSBridge?WeixinJSBridge.on(e,(function(t){n&&n.trigger&&n.trigger(t),r(e,t,i)})):d(e,n||i)}function a(t){return t=t||{},t.appId=A.appId,t.verifyAppId=A.appId,t.verifySignType="sha1",t.verifyTimestamp=A.timestamp+"",t.verifyNonceStr=A.nonceStr,t.verifySignature=A.signature,t}function o(t){return{timeStamp:t.timestamp+"",nonceStr:t.nonceStr,package:t.package,paySign:t.paySign,signType:t.signType||"SHA1"}}function s(t){return t.postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,t}function r(t,e,i){"openEnterpriseChat"==t&&(e.errCode=e.err_code),delete e.err_code,delete e.err_desc,delete e.err_detail;var n=e.errMsg;n||(n=e.err_msg,delete e.err_msg,n=c(t,n),e.errMsg=n),(i=i||{})._complete&&(i._complete(e),delete i._complete),n=e.errMsg||"",A.debug&&!i.isInnerInvoke&&alert(JSON.stringify(e));var a=n.indexOf(":");switch(n.substring(a+1)){case"ok":i.success&&i.success(e);break;case"cancel":i.cancel&&i.cancel(e);break;default:i.fail&&i.fail(e)}i.complete&&i.complete(e)}function c(t,e){var i=t,n=v[i];n&&(i=n);var a="ok";if(e){var o=e.indexOf(":");"confirm"==(a=e.substring(o+1))&&(a="ok"),"failed"==a&&(a="fail"),-1!=a.indexOf("failed_")&&(a=a.substring(7)),-1!=a.indexOf("fail_")&&(a=a.substring(5)),"access denied"!=(a=(a=a.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=a||(a="permission denied"),"config"==i&&"function not exist"==a&&(a="ok"),""==a&&(a="fail")}return i+":"+a}function l(t){if(t){for(var e=0,i=t.length;e<i;++e){var n=t[e],a=g[n];a&&(t[e]=a)}return t}}function d(t,e){if(!(!A.debug||e&&e.isInnerInvoke)){var i=v[t];i&&(t=i),e&&e._complete&&delete e._complete,console.log('"'+t+'",',e||"")}}function u(t){if(!(I||C||A.debug||T<"6.0.2"||M.systemType<0)){var e=new Image;M.appId=A.appId,M.initTime=P.initEndTime-P.initStartTime,M.preVerifyTime=P.preVerifyEndTime-P.preVerifyStartTime,O.getNetworkType({isInnerInvoke:!0,success:function(t){M.networkType=t.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+M.version+"&o="+M.isPreVerifyOk+"&s="+M.systemType+"&c="+M.clientVersion+"&a="+M.appId+"&n="+M.networkType+"&i="+M.initTime+"&p="+M.preVerifyTime+"&u="+M.url;e.src=i}})}}function p(){return(new Date).getTime()}function f(e){w&&(t.WeixinJSBridge?e():y.addEventListener&&y.addEventListener("WeixinJSBridgeReady",e,!1))}function m(){O.invoke||(O.invoke=function(e,i,n){t.WeixinJSBridge&&WeixinJSBridge.invoke(e,a(i),n)},O.on=function(e,i){t.WeixinJSBridge&&WeixinJSBridge.on(e,i)})}function h(t){if("string"==typeof t&&t.length>0){var e=t.split("?")[0],i=t.split("?")[1];return e+=".html",void 0!==i?e+"?"+i:e}}if(!t.jWeixin){var g={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},v=function(){var t={};for(var e in g)t[g[e]]=e;return t}(),y=t.document,_=y.title,b=navigator.userAgent.toLowerCase(),k=navigator.platform.toLowerCase(),I=!(!k.match("mac")&&!k.match("win")),C=-1!=b.indexOf("wxdebugger"),w=-1!=b.indexOf("micromessenger"),S=-1!=b.indexOf("android"),x=-1!=b.indexOf("iphone")||-1!=b.indexOf("ipad"),T=function(){var t=b.match(/micromessenger\/(\d+\.\d+\.\d+)/)||b.match(/micromessenger\/(\d+\.\d+)/);return t?t[1]:""}(),P={initStartTime:p(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},M={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:x?1:S?2:-1,clientVersion:T,url:encodeURIComponent(location.href)},A={},B={_completes:[]},N={state:0,data:{}};f((function(){P.initEndTime=p()}));var L=!1,V=[],O={config:function(t){A=t,d("config",t);var e=!1!==A.check;f((function(){if(e)i(g.config,{verifyJsApiList:l(A.jsApiList)},function(){B._complete=function(t){P.preVerifyEndTime=p(),N.state=1,N.data=t},B.success=function(t){M.isPreVerifyOk=0},B.fail=function(t){B._fail?B._fail(t):N.state=-1};var t=B._completes;return t.push((function(){u()})),B.complete=function(e){for(var i=0,n=t.length;i<n;++i)t[i]();B._completes=[]},B}()),P.preVerifyStartTime=p();else{N.state=1;for(var t=B._completes,n=0,a=t.length;n<a;++n)t[n]();B._completes=[]}})),m()},ready:function(t){0!=N.state?t():(B._completes.push(t),!w&&A.debug&&t())},error:function(t){T<"6.0.2"||(-1==N.state?t(N.data):B._fail=t)},checkJsApi:function(t){var e=function(t){var e=t.checkResult;for(var i in e){var n=v[i];n&&(e[n]=e[i],delete e[i])}return t};i("checkJsApi",{jsApiList:l(t.jsApiList)},(t._complete=function(t){if(S){var i=t.checkResult;i&&(t.checkResult=JSON.parse(i))}t=e(t)},t))},onMenuShareTimeline:function(t){n(g.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:t.title||_,desc:t.title||_,img_url:t.imgUrl||"",link:t.link||location.href,type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareAppMessage:function(t){n(g.onMenuShareAppMessage,{complete:function(e){"favorite"===e.scene?i("sendAppMessage",{title:t.title||_,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""}):i("sendAppMessage",{title:t.title||_,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareQQ:function(t){n(g.onMenuShareQQ,{complete:function(){i("shareQQ",{title:t.title||_,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareWeibo:function(t){n(g.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:t.title||_,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareQZone:function(t){n(g.onMenuShareQZone,{complete:function(){i("shareQZone",{title:t.title||_,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},updateTimelineShareData:function(t){i("updateTimelineShareData",{title:t.title,link:t.link,imgUrl:t.imgUrl},t)},updateAppMessageShareData:function(t){i("updateAppMessageShareData",{title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl},t)},startRecord:function(t){i("startRecord",{},t)},stopRecord:function(t){i("stopRecord",{},t)},onVoiceRecordEnd:function(t){n("onVoiceRecordEnd",t)},playVoice:function(t){i("playVoice",{localId:t.localId},t)},pauseVoice:function(t){i("pauseVoice",{localId:t.localId},t)},stopVoice:function(t){i("stopVoice",{localId:t.localId},t)},onVoicePlayEnd:function(t){n("onVoicePlayEnd",t)},uploadVoice:function(t){i("uploadVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadVoice:function(t){i("downloadVoice",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},translateVoice:function(t){i("translateVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},chooseImage:function(t){i("chooseImage",{scene:"1|2",count:t.count||9,sizeType:t.sizeType||["original","compressed"],sourceType:t.sourceType||["album","camera"]},(t._complete=function(t){if(S){var e=t.localIds;try{e&&(t.localIds=JSON.parse(e))}catch(t){}}},t))},getLocation:function(t){},previewImage:function(t){i(g.previewImage,{current:t.current,urls:t.urls},t)},uploadImage:function(t){i("uploadImage",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadImage:function(t){i("downloadImage",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},getLocalImgData:function(t){!1===L?(L=!0,i("getLocalImgData",{localId:t.localId},(t._complete=function(t){if(L=!1,V.length>0){var e=V.shift();wx.getLocalImgData(e)}},t))):V.push(t)},getNetworkType:function(t){var e=function(t){var e=t.errMsg;t.errMsg="getNetworkType:ok";var i=t.subtype;if(delete t.subtype,i)t.networkType=i;else{var n=e.indexOf(":"),a=e.substring(n+1);switch(a){case"wifi":case"edge":case"wwan":t.networkType=a;break;default:t.errMsg="getNetworkType:fail"}}return t};i("getNetworkType",{},(t._complete=function(t){t=e(t)},t))},openLocation:function(t){i("openLocation",{latitude:t.latitude,longitude:t.longitude,name:t.name||"",address:t.address||"",scale:t.scale||28,infoUrl:t.infoUrl||""},t)},getLocation:function(t){t=t||{},i(g.getLocation,{type:t.type||"wgs84"},(t._complete=function(t){delete t.type},t))},hideOptionMenu:function(t){i("hideOptionMenu",{},t)},showOptionMenu:function(t){i("showOptionMenu",{},t)},closeWindow:function(t){i("closeWindow",{},t=t||{})},hideMenuItems:function(t){i("hideMenuItems",{menuList:t.menuList},t)},showMenuItems:function(t){i("showMenuItems",{menuList:t.menuList},t)},hideAllNonBaseMenuItem:function(t){i("hideAllNonBaseMenuItem",{},t)},showAllNonBaseMenuItem:function(t){i("showAllNonBaseMenuItem",{},t)},scanQRCode:function(t){i("scanQRCode",{needResult:(t=t||{}).needResult||0,scanType:t.scanType||["qrCode","barCode"]},(t._complete=function(t){if(x){var e=t.resultStr;if(e){var i=JSON.parse(e);t.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},t))},openAddress:function(t){i(g.openAddress,{},(t._complete=function(t){t=s(t)},t))},openProductSpecificView:function(t){i(g.openProductSpecificView,{pid:t.productId,view_type:t.viewType||0,ext_info:t.extInfo},t)},addCard:function(t){for(var e=t.cardList,n=[],a=0,o=e.length;a<o;++a){var s=e[a],r={card_id:s.cardId,card_ext:s.cardExt};n.push(r)}i(g.addCard,{card_list:n},(t._complete=function(t){var e=t.card_list;if(e){for(var i=0,n=(e=JSON.parse(e)).length;i<n;++i){var a=e[i];a.cardId=a.card_id,a.cardExt=a.card_ext,a.isSuccess=!!a.is_succ,delete a.card_id,delete a.card_ext,delete a.is_succ}t.cardList=e,delete t.card_list}},t))},chooseCard:function(t){i("chooseCard",{app_id:A.appId,location_id:t.shopId||"",sign_type:t.signType||"SHA1",card_id:t.cardId||"",card_type:t.cardType||"",card_sign:t.cardSign,time_stamp:t.timestamp+"",nonce_str:t.nonceStr},(t._complete=function(t){t.cardList=t.choose_card_info,delete t.choose_card_info},t))},openCard:function(t){for(var e=t.cardList,n=[],a=0,o=e.length;a<o;++a){var s=e[a],r={card_id:s.cardId,code:s.code};n.push(r)}i(g.openCard,{card_list:n},t)},consumeAndShareCard:function(t){i(g.consumeAndShareCard,{consumedCardId:t.cardId,consumedCode:t.code},t)},chooseWXPay:function(t){i(g.chooseWXPay,o(t),t)},openEnterpriseRedPacket:function(t){i(g.openEnterpriseRedPacket,o(t),t)},startSearchBeacons:function(t){i(g.startSearchBeacons,{ticket:t.ticket},t)},stopSearchBeacons:function(t){i(g.stopSearchBeacons,{},t)},onSearchBeacons:function(t){n(g.onSearchBeacons,t)},openEnterpriseChat:function(t){i("openEnterpriseChat",{useridlist:t.userIds,chatname:t.groupName},t)},launchMiniProgram:function(t){i("launchMiniProgram",{targetAppId:t.targetAppId,path:h(t.path),envVersion:t.envVersion},t)},miniProgram:{navigateBack:function(t){t=t||{},f((function(){i("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:t.delta||1}},t)}))},navigateTo:function(t){f((function(){i("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:t.url}},t)}))},redirectTo:function(t){f((function(){i("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:t.url}},t)}))},switchTab:function(t){f((function(){i("invokeMiniProgramAPI",{name:"switchTab",arg:{url:t.url}},t)}))},reLaunch:function(t){f((function(){i("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:t.url}},t)}))},postMessage:function(t){f((function(){i("invokeMiniProgramAPI",{name:"postMessage",arg:t.data||{}},t)}))},getEnv:function(e){f((function(){e({miniprogram:"miniprogram"===t.__wxjs_environment})}))}}},$=1,E={};return y.addEventListener("error",(function(t){if(!S){var e=t.target,i=e.tagName,n=e.src;if(("IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i)&&-1!=n.indexOf("wxlocalresource://")){t.preventDefault(),t.stopPropagation();var a=e["wx-id"];if(a||(a=$++,e["wx-id"]=a),E[a])return;E[a]=!0,wx.ready((function(){wx.getLocalImgData({localId:n,success:function(t){e.src=t.localData}})}))}}}),!0),y.addEventListener("load",(function(t){if(!S){var e=t.target,i=e.tagName;if(e.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var n=e["wx-id"];n&&(E[n]=!1)}}}),!0),e&&(t.wx=t.jWeixin=O),O}}))},3255:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.details?n("div",{staticClass:"commodity"},[n("i",{staticClass:"iconfont icon-left gobackIcon",staticStyle:{"z-index":"2"},on:{click:function(e){return t.goUpperStory()}}}),n("div",{staticClass:"topImg"},[n("van-swipe",{attrs:{autoplay:0,"indicator-color":"white"}},t._l(t.condensation.image,(function(t,e){return n("van-swipe-item",{key:e,staticStyle:{height:"270px"}},[n("img",{attrs:{src:t,alt:""}})])})),1)],1),n("div",{staticClass:"info"},[n("van-card",[n("div",{staticClass:"titleInfo",attrs:{slot:"price"},slot:"price"},[n("span",{staticClass:"name"},[t._v("零售价")]),n("span",{staticClass:"value"},[t._v("￥"+t._s(t.details.retailPrice))])]),n("div",{staticClass:"text",attrs:{slot:"bottom"},slot:"bottom"},[n("p",[t._v(t._s(t.details.productName))]),n("span",[n("i",{staticClass:"iconfont icon-collect",on:{click:function(e){return t.addFavorites()}}}),t._v("收藏 ")])])])],1),n("div",{staticClass:"contentInfo"},[n("div",[n("div",{staticClass:"textAdvertisement"},[n("span",[t._v("文字广告:")]),n("p",[t._v(t._s(t.details.benefits))])]),n("div",{staticClass:"contentBtn"},[n("van-button",{class:[0==t.btnIndex?"oneactive":"","Btn"],attrs:{color:"#e60012",type:"primary",size:"small"},on:{click:function(e){t.btnIndex=0}}},[t._v("合法批文")]),n("van-button",{class:[1==t.btnIndex?"twoactive":"","Btn"],attrs:{color:"#fe4e03",type:"primary",size:"small"},on:{click:function(e){t.btnIndex=1}}},[t._v("图文详情")]),n("van-button",{class:[2==t.btnIndex?"threeactive":"","Btn"],attrs:{color:"#000",type:"primary",size:"small"},on:{click:function(e){t.btnIndex=2}}},[t._v("详细参数")]),n("van-button",{class:[3==t.btnIndex?"fouractive":"","Btn"],attrs:{color:"#0059c9",type:"primary",size:"small"},on:{click:function(e){t.btnIndex=3}}},[t._v("服务保障")])],1),0===t.btnIndex?n("div",{staticClass:"content"},[n("p",[t._v(t._s(t.details.approval))])]):t._e(),1===t.btnIndex?n("div",{staticClass:"content"},[n("div",[t._v(t._s(t.details.productsDetail))])]):t._e(),2===t.btnIndex?n("div",{staticClass:"content"},[n("div",[t._v(t._s(t.details.parameter))])]):t._e(),3===t.btnIndex?n("div",{staticClass:"content"},[n("div",[t._v(t._s(t.details.guarantee))])]):t._e(),n("div",{staticClass:"purchaseBtn"},[t._m(0),n("div",{staticClass:"bottomBtn"},[t.purchaseBtnList?n("div",{staticClass:"topListBtn"},[n("ul",{staticClass:"purchase",staticStyle:{display:"block"}},[n("li",[n("van-button",{staticClass:"listBtn",attrs:{type:"default",block:""},on:{click:function(e){t.purchaseBtnList=!1,t.buy(0)}}},[t._v("零售")])],1),n("li",[n("van-button",{staticClass:"listBtn",attrs:{type:"default",block:""},on:{click:function(e){return t.buy(1)}}},[t._v("团购")])],1),n("li",[n("van-button",{staticClass:"listBtn",attrs:{type:"default",block:""},on:{click:function(e){return t.buy(2)}}},[t._v("银卡")])],1),n("li",[n("van-button",{staticClass:"listBtn",attrs:{type:"default",block:""},on:{click:function(e){return t.buy(3)}}},[t._v("金卡")])],1),n("li",[n("van-button",{staticClass:"listBtn",staticStyle:{color:"#FE4E03"},attrs:{type:"default",block:""},on:{click:function(e){return t.buy(4)}}},[t._v("钻卡")])],1)])]):t._e(),n("span",{staticClass:"iconfont icon-aliwangwang rightAliIcon"}),n("van-button",{staticClass:"buyLeftBtn",attrs:{color:"linear-gradient(to right, #fd4d03,#fc7300)",type:"primary",size:"small"},on:{click:function(e){t.purchaseBtnList=!t.purchaseBtnList}}},[t._v("我要购买")]),n("van-button",{staticClass:"buyCenterBtn",attrs:{color:"#fe4e03",type:"primary",size:"small"}},[t._v("购物车")]),n("van-button",{staticClass:"buyRightBtn",attrs:{color:"linear-gradient(to right, #fc7300 , #fd4d03)",type:"primary",size:"small"},on:{click:function(e){return t.share()}}},[t._v("分享赚钱")])],1)])]),t.currentlyCoupon?n("van-popup",{staticClass:"showPopup",style:{height:0==t.purchaseType?"65%":"60%"},attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("i",{staticClass:"iconfont icon-guanbi closeIcon",on:{click:function(e){t.show=!1}}}),n("van-card",{staticClass:"card"},[n("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("￥"+t._s(t.currentlyCoupon.price))]),n("div",{staticClass:"price",attrs:{slot:"price"},slot:"price"},[n("span",[t._v("配送至:")])]),n("div",{staticClass:"desc",attrs:{slot:"desc"},slot:"desc"},[n("span",[t._v("库存"+t._s(t.details.stock)+"件")])]),n("div",{staticClass:"thumb",attrs:{slot:"thumb"},slot:"thumb"},[n("img",{attrs:{src:t.details.mainImage,alt:""}})])]),t.currentAddr?n("div",{staticClass:"region"},[n("span",[t._v("配送区域")]),n("div",{staticClass:"card"},[n("i",{staticClass:"iconfont icon-tubiaozhizuomoban-",staticStyle:{padding:"0 10px"}}),n("div",{staticClass:"whitecard"},[n("span",{staticClass:"name"},[t._v(" "+t._s(t.currentAddr.receiverName)+" "),n("span",[t._v(t._s(t.currentAddr.phone))])]),n("p",[t._v(t._s(t.currentAddr.addrName))]),n("span",{staticClass:"remark"},[t._v(" 备注: "),n("input",{attrs:{type:"text",placeholder:"如有特殊要求请填写"}})])]),n("div",{staticStyle:{margin:"0 10px"},on:{click:function(e){return t.AddrPage()}}},[n("span",{staticClass:"iconfont icon-bianji",staticStyle:{"font-size":"18px"}})])])]):t._e(),n("div",[0==t.purchaseType?n("div",{staticClass:"number"},[n("span",[t._v("购买数量")]),n("div",{staticClass:"stepper"},[n("van-stepper",{attrs:{min:"1",max:"50"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)]):t._e()]),n("div",{staticClass:"bottomBuyBtn"},[n("p",[t._v(" 当前商品可使用 "),n("span",[t._v("10积分")]),t._v("店铺优惠 ")]),n("div",{staticClass:"buttonDiv"},[n("van-button",{staticClass:"buyoneBtn",attrs:{color:"#fe4e03"},on:{click:function(e){return t.conso()}}},[t._v("购买声明和承诺")]),n("van-button",{staticClass:"buyTwoBtn",attrs:{color:"#fe4e03"},on:{click:function(e){t.payMethod=!0,t.calculatePrice()}}},[t._v("同意声明和购买")])],1)])],1):t._e(),t.totalPayment?n("van-popup",{staticClass:"payMethod",attrs:{round:"",position:"bottom"},model:{value:t.payMethod,callback:function(e){t.payMethod=e},expression:"payMethod"}},[n("div",[n("div",{staticClass:"title"},[n("span",{staticClass:"iconfont icon-guanbi1 colse",on:{click:function(e){t.payMethod=!1}}}),n("span",[t._v("选择支付方式")]),n("span",{staticClass:"iconfont icon-wenti rightIcon"})]),n("div",{staticClass:"amount"},[n("span",[n("span",[t._v("￥")]),t._v(" "+t._s(t.totalPayment.payAmount)+" ")])]),n("div",[n("van-radio-group",{staticClass:"radio_group",model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("van-cell-group",{staticClass:"cell_group"},t._l(t.payList,(function(e,i){return n("van-cell",{key:i,staticClass:"cell",attrs:{border:!1,title:e.name,clickable:""},on:{click:function(i){t.radio=JSON.stringify(e.id)}}},[n("img",{style:{width:"26px",height:"26px",padding:"0 10px",opacity:e.icon?"1":"0"},attrs:{slot:"icon",src:e.icon},slot:"icon"}),n("van-radio",{attrs:{slot:"right-icon",name:JSON.stringify(e.id)},slot:"right-icon"})],1)})),1)],1),n("div",{staticClass:"bottomBtn"},[n("van-button",{attrs:{block:"",color:"rgb(28,145,225)"},on:{click:function(e){return t.payment()}}},[t._v("立即付款")])],1)],1)])]):t._e(),n("van-popup",{staticClass:"showSty",attrs:{round:"",position:"bottom"},model:{value:t.shows,callback:function(e){t.shows=e},expression:"shows"}},[n("div",[n("div",{staticClass:"title"},[n("span",{staticClass:"iconfont icon-guanbi1 leftClose",on:{click:function(e){t.shows=!1}}}),n("span",[t._v("订单号:2020010930122354")]),n("span",{staticClass:"iconfont icon-wenti rightIcon"})]),n("div",{staticClass:"tips"},[n("p",[t._v(" 重要提示：选择线下支付方式请您支付成功，切勿忘记把自己的刚刚账号填写 "),n("input",{attrs:{type:"text",placeholder:"支付卡/微信或支付宝号"}}),t._v("然后点击 "),n("span",[t._v("提交")])])]),t.offlinePayments?n("div",{staticClass:"payCode"},[n("div",[n("img",{attrs:{src:t.offlinePayments.alipay,alt:""}}),n("p",[t._v("支付宝二维码")])]),n("div",[n("img",{attrs:{src:t.offlinePayments.wechat,alt:""}}),n("p",[t._v("微信收款码")])]),n("div",[n("img",{attrs:{src:t.offlinePayments.bank,alt:""}}),n("p",[t._v("第三方收款码")])])]):t._e(),n("div",{staticClass:"payBotton"},[n("div",[n("router-link",{staticClass:"link",attrs:{to:"/cardPayment"}},[n("img",{attrs:{src:i("5be1"),alt:""}}),n("p",[t._v("银行账号")])])],1),n("div",[n("router-link",{staticClass:"link",attrs:{to:"/pay"}},[n("img",{attrs:{src:i("d729"),alt:""}}),n("p",[t._v("钱包")])])],1)]),n("van-divider",{staticStyle:{margin:"5px"}}),n("div",[n("p",{staticStyle:{"text-align":"center",margin:"0",padding:"0"}},[t._v("上传支付凭证信息")]),n("div",[n("van-cell-group",[n("van-field",{staticStyle:{background:"rgb(248,248,248)"},attrs:{clearable:"",label:"付款人姓名",placeholder:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{staticStyle:{background:"rgb(248,248,248)"},attrs:{label:"付款账号",placeholder:""},model:{value:t.accountNumber,callback:function(e){t.accountNumber=e},expression:"accountNumber"}}),n("div",{staticStyle:{background:"rgb(248,248,248)",display:"flex",height:"40px","align-items":"center"}},[n("span",{staticStyle:{"font-size":"14px",color:"#323233",padding:"0 15px"}},[t._v("上传支付凭证")]),n("img",{staticStyle:{width:"100px",height:"38px"},attrs:{src:t.uploadImage,alt:""}}),t.uploadImage?t._e():n("van-uploader",{attrs:{"before-read":t.beforeRead,"result-type":"file","after-read":t.atterRead}},[n("van-button",{staticStyle:{height:"40px","line-height":"40px"},attrs:{icon:"photo",loading:t.uploadLoading}},[t._v("上传图片")])],1)],1)],1),n("div",{staticStyle:{width:"100%","text-align":"center",padding:"10px 0"}},[n("van-button",{staticStyle:{width:"60%",height:"35px","line-height":"35px"},attrs:{type:"primary",disabled:t.uploadPayInfoDisb},on:{click:function(e){return t.offlinePaymentOrder()}}},[t._v("提交")])],1)],1),n("p",{staticStyle:{margin:"0",padding:"0",color:"red","font-size":"12px","text-align":"center"}},[t._v("*系统检测到以上信息不完整不能退出此页")])])],1)]),n("van-popup",{staticClass:"rechargeModeSty",attrs:{round:"",position:"bottom"},model:{value:t.rechargeMode,callback:function(e){t.rechargeMode=e},expression:"rechargeMode"}},[n("div",[n("div",{staticClass:"title"},[n("span",{staticClass:"iconfont icon-guanbi1 leftClose",on:{click:function(e){t.rechargeMode=!1}}}),n("span",[t._v("选择支付方式")]),n("span",{staticClass:"iconfont icon-wenti rightIcon"})]),n("div",{staticClass:"amount"},[n("span",[n("span",[t._v("￥")]),t._v("500.00 ")])]),n("div",[n("van-radio-group",{staticClass:"radio_group",model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("van-cell-group",{staticClass:"cell_group"},t._l(t.paymentMethod,(function(e,i){return n("van-cell",{key:i,staticClass:"cell",staticStyle:{padding:"6px 0"},attrs:{border:!1,title:e.name,clickable:""},on:{click:function(e){t.radio=i}}},[n("span",{attrs:{slot:"icon"},slot:"icon"},[e.icon?n("img",{staticStyle:{width:"25px",height:"25px",padding:"0 5px"},attrs:{src:e.icon,alt:""}}):t._e()]),n("van-radio",{attrs:{slot:"right-icon",name:i},slot:"right-icon"})],1)})),1)],1),n("div",{staticClass:"btmBtn"},[n("van-button",{staticClass:"button",attrs:{color:"rgb(28,145,225)"}},[t._v("充值完成")])],1)],1)])])],1)]):t._e()},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"explain"},[i("p",[t._v("促销说明:")]),i("p",[t._v("服务承诺:")])])}],o=(i("99af"),i("4160"),i("159b"),i("18a0")),s=i.n(o),r={data:function(){return{areaChangeIndex:null,offlinePayments:null,details:{},username:"",accountNumber:null,btnIndex:0,purchaseBtnList:!1,rechargeMode:!1,show:!1,shows:!1,payMethod:!1,radio:"1",number:0,totalPayment:null,paymentMethod:[],currentlyCoupon:null,currentAddr:null,purchaseType:null,payList:[],uploadImage:"",uploadLoading:!1,uploadPayInfoDisb:!0,condensation:{image:[]}}},computed:{userInfo:function(){return JSON.parse(this.$store.state.memberInfo)},token:function(){return JSON.parse(this.$store.state.userInfo)},wxJsdk:function(){return this.$store.state.wxSdk}},created:function(){console.log("----------------"+this.wxJsdk+"----------------")},mounted:function(){var t=this;this.$axios.notLoggedIn("ym/mall-product/detail?id=".concat(this.$route.query.id)).then((function(e){window.console.log(e),t.details=e,t.condensation.image=e.slideshow}))},methods:{beforeRead:function(t){return"image/jpeg"===t.type||(this.$Toast("请上传 jpg 格式图片"),!1)},conso:function(){},calculatePrice:function(){var t=this;this.$axios.get("ym/mall-order/cal-price?quantity=".concat(this.number?this.number:this.currentlyCoupon.quantity,"&productId=").concat(this.$route.query.id)).then((function(e){console.log(e),0===e.code&&(t.totalPayment=e.data)})),this.$axios.get("ym/pay-type/list").then((function(e){0===e.code&&(t.payList=e.data)}))},buy:function(t){var e=this,i=this;if(this.userInfo){switch(t){case 0:this.currentlyCoupon={id:0,price:this.details.retailPrice,quantity:1};break;case 1:this.currentlyCoupon={id:1,price:this.details.groupPrice,quantity:this.details.groupNum};break;case 2:this.currentlyCoupon={id:2,price:this.details.silverPrice,quantity:this.details.silverNum};break;case 3:this.currentlyCoupon={id:3,price:this.details.goldPrice,quantity:this.details.goldNum};break;case 4:this.currentlyCoupon={id:4,price:this.details.diamondPrice,quantity:this.details.diamondNum};break}console.log(this.currentlyCoupon),this.$axios.get("ym/member-address/default-address").then((function(t){var i=t.data;0===t.code&&(i.addrName=i.provinceStr+i.cityStr+i.districtStr+i.detailAddress,e.currentAddr=i,console.log(e.currentAddr))})),this.purchaseType=t,this.number=0,this.show=!0}else!this.userInfo&&this.$route.query.code?this.$router.push({path:"/Recommend",query:{code:i.$route.query.code}}):this.$router.push("/login")},atterRead:function(t){var e=this;this.uploadLoading=!0;var i=new FormData;i.append("files",t.file);var n={headers:{Authorization:"bearer"+JSON.parse(this.$store.state.userInfo).access_token,"Content-Type":"form-data"}};this.$axios.post("ym/oss-attachment/upload-image",i,n).then((function(t){0===t.data.code&&(e.uploadImage=t.data.data[0].imgSrc,e.uploadLoading=!1,e.uploadPayInfoDisb=!1,console.log(e.uploadImage))}))},alipayment:function(){var t=this,e={productId:this.$route.query.id,payType:this.radio,type:this.purchaseType,quantity:this.number?this.number:this.currentlyCoupon.quantity,offlinePayProof:"",payAccount:"",realName:"",addressId:this.currentAddr.id};console.log(e),this.$axios.post("ym/mall-order/submit",e).then((function(e){window.console.log(e.data),console.log(t.radio),0===e.data.code&&(2==t.radio?(console.log(e.data.data.sdkParams.mweb_url),window.location.href=e.data.data.sdkParams.mweb_url):console.log(e.data))}))},goUpperStory:function(){this.$router.go(-1)},getPaymentMethod:function(){var t=this;this.paymentMethod=[],this.$axios.get("ym/pay-type/list").then((function(e){if(200===e.status&&0===e.data.code){var i=e.data.data;i.forEach((function(e){t.paymentMethod.push(e)}))}}))},payment:function(){var t=this;switch(this.radio){case"1":this.alipayment();break;case"2":this.alipayment();break;case"3":break;case"4":this.shows=!0,this.$axios.get("ym/mall-product/offline-code?id=".concat(this.$route.query.id)).then((function(e){console.log(e),200===e.status&&0===e.data.code&&(t.offlinePayments=e.data.data)}));break}},offlinePaymentOrder:function(){var t=this,e={productId:this.$route.query.id,payType:this.radio,type:this.purchaseType,quantity:this.number?this.number:this.currentlyCoupon.quantity,offlinePayProof:this.uploadImage,payAccount:this.accountNumber,realName:this.username,addressId:this.currentAddr.id};this.$axios.post("ym/mall-order/submit",e).then((function(e){0===e.data.code?t.$Notify({type:"success",message:e.data.msg}):t.$Notify({type:"danger",message:e.data.msg})}))},AddrPage:function(){this.$router.push("/addr")},addFavorites:function(){var t={type:1,targetid:this.$route.query.id};this.$axios.post("ym/member-collect/add",t).then((function(t){window.console.log(t)}))},share:function(){var t=this;this.$axios.get("ym/public/wechat-share").then((function(t){s.a.config({debug:!1,appId:t.data.appid,timestamp:t.data.timestamp,nonceStr:t.data.noncestr,signature:t.data.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]})})),s.a.ready((function(){console.log("wx : success")})),setTimeout((function(){s.a.updateAppMessageShareData({title:t.details.productName,desc:t.details.intro,link:"http://www.ym718.com/#/commodityDetails?id=".concat(t.details.id,"&code=").concat(t.userInfo.referralCode),imgUrl:t.details.mainImage,success:function(){t.$Toast("点击右上角分享-朋友")}}),s.a.updateTimelineShareData({title:t.details.productName,link:"http://www.ym718.com/#/commodityDetails?id=".concat(t.details.id,"&code=").concat(t.userInfo.referralCode),imgUrl:t.details.mainImage,success:function(){}})}),2e3)}}},c=r,l=(i("8971"),i("2877")),d=Object(l["a"])(c,n,a,!1,null,"fcd7e74a",null);e["default"]=d.exports},"50ae":function(t,e,i){},"5be1":function(t,e,i){t.exports=i.p+"img/银行账号.bcd4504f.png"},8971:function(t,e,i){"use strict";var n=i("50ae"),a=i.n(n);a.a},d729:function(t,e,i){t.exports=i.p+"img/钱包.e4e5f371.png"}}]);
//# sourceMappingURL=chunk-11b58d7c.5d1e81be.js.map