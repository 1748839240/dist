(function(n){function e(e){for(var c,a,r=e[0],i=e[1],s=e[2],d=0,f=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c]);h&&h(e);while(f.length)f.shift()();return u.push.apply(u,s||[]),t()}function t(){for(var n,e=0;e<u.length;e++){for(var t=u[e],c=!0,a=1;a<t.length;a++){var r=t[a];0!==o[r]&&(c=!1)}c&&(u.splice(e--,1),n=i(i.s=t[0]))}return n}var c={},a={index:0},o={index:0},u=[];function r(n){return i.p+"js/"+({}[n]||n)+"."+{"chunk-00d3d96d":"280ba134","chunk-064fe8fa":"9b1cfc54","chunk-09c72a30":"f3f32704","chunk-0f304c8e":"9743fd1b","chunk-11b58d7c":"5d1e81be","chunk-159b13cc":"28a85a46","chunk-1ba3c154":"90ba3540","chunk-1ee3690e":"741d9e66","chunk-28f8afee":"80636aa0","chunk-2bf05644":"c8420826","chunk-2d0be65a":"6d9c9b65","chunk-2d0d9fbd":"f67336f2","chunk-2dae8b62":"626c5259","chunk-30fbb861":"63650234","chunk-379dc2f6":"4725a1ff","chunk-3f6a83ce":"910b5cc4","chunk-4181eb8d":"2675aec6","chunk-4279de3a":"e1768bdb","chunk-4524d9ce":"d54fd3ff","chunk-4d175dd2":"1e55ca1b","chunk-5862d354":"3375da0d","chunk-5997d729":"a71820ed","chunk-5d6b4132":"e9c7d83e","chunk-698e1866":"ae3fb257","chunk-69fdce6f":"f6231ebc","chunk-79dedaf5":"2f576824","chunk-95cdf264":"3d72b1f7","chunk-9d52d5f0":"cf471df3","chunk-ad9bf4d4":"d18946a1","chunk-d85dae82":"9cc95675","chunk-e8b792e6":"b40075a4","chunk-f913ae0a":"d2772641"}[n]+".js"}function i(e){if(c[e])return c[e].exports;var t=c[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(n){var e=[],t={"chunk-00d3d96d":1,"chunk-064fe8fa":1,"chunk-09c72a30":1,"chunk-0f304c8e":1,"chunk-11b58d7c":1,"chunk-159b13cc":1,"chunk-1ba3c154":1,"chunk-1ee3690e":1,"chunk-28f8afee":1,"chunk-2bf05644":1,"chunk-2dae8b62":1,"chunk-30fbb861":1,"chunk-379dc2f6":1,"chunk-3f6a83ce":1,"chunk-4181eb8d":1,"chunk-4279de3a":1,"chunk-4524d9ce":1,"chunk-4d175dd2":1,"chunk-5862d354":1,"chunk-5d6b4132":1,"chunk-698e1866":1,"chunk-69fdce6f":1,"chunk-79dedaf5":1,"chunk-95cdf264":1,"chunk-9d52d5f0":1,"chunk-ad9bf4d4":1,"chunk-d85dae82":1,"chunk-e8b792e6":1,"chunk-f913ae0a":1};a[n]?e.push(a[n]):0!==a[n]&&t[n]&&e.push(a[n]=new Promise((function(e,t){for(var c="css/"+({}[n]||n)+"."+{"chunk-00d3d96d":"4f0e11e3","chunk-064fe8fa":"fc3e443a","chunk-09c72a30":"b41e6d2f","chunk-0f304c8e":"3968a2f2","chunk-11b58d7c":"c1f6ec28","chunk-159b13cc":"bebec356","chunk-1ba3c154":"eed8f0ff","chunk-1ee3690e":"495d1418","chunk-28f8afee":"c7fe5da7","chunk-2bf05644":"42782256","chunk-2d0be65a":"31d6cfe0","chunk-2d0d9fbd":"31d6cfe0","chunk-2dae8b62":"ade7b7cd","chunk-30fbb861":"8e41bdbe","chunk-379dc2f6":"82076974","chunk-3f6a83ce":"deaf8d40","chunk-4181eb8d":"c2d00052","chunk-4279de3a":"7eef3997","chunk-4524d9ce":"4a2efb69","chunk-4d175dd2":"5da2bb30","chunk-5862d354":"3cfdf233","chunk-5997d729":"31d6cfe0","chunk-5d6b4132":"795c7f66","chunk-698e1866":"eca6b7fd","chunk-69fdce6f":"f2924f93","chunk-79dedaf5":"f4b3b24a","chunk-95cdf264":"086e1ffa","chunk-9d52d5f0":"6c1c9af8","chunk-ad9bf4d4":"26fdb509","chunk-d85dae82":"29672288","chunk-e8b792e6":"cfbb4532","chunk-f913ae0a":"cfe3a37c"}[n]+".css",o=i.p+c,u=document.getElementsByTagName("link"),r=0;r<u.length;r++){var s=u[r],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===c||d===o))return e()}var f=document.getElementsByTagName("style");for(r=0;r<f.length;r++){s=f[r],d=s.getAttribute("data-href");if(d===c||d===o)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var c=e&&e.target&&e.target.src||o,u=new Error("Loading CSS chunk "+n+" failed.\n("+c+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=c,delete a[n],h.parentNode.removeChild(h),t(u)},h.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(h)})).then((function(){a[n]=0})));var c=o[n];if(0!==c)if(c)e.push(c[2]);else{var u=new Promise((function(e,t){c=o[n]=[e,t]}));e.push(c[2]=u);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=r(n);var f=new Error;s=function(e){d.onerror=d.onload=null,clearTimeout(h);var t=o[n];if(0!==t){if(t){var c=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+n+" failed.\n("+c+": "+a+")",f.name="ChunkLoadError",f.type=c,f.request=a,t[1](f)}o[n]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},i.m=n,i.c=c,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var c in n)i.d(t,c,function(e){return n[e]}.bind(null,c));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/",i.oe=function(n){throw console.error(n),n};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var h=d;u.push([0,"chunk-vendors"]),t()})({0:function(n,e,t){n.exports=t("56d7")},"21bb":function(n,e,t){"use strict";var c=t("2dad"),a=t.n(c);a.a},"2dad":function(n,e,t){},"3a10":function(n,e,t){},"4f28":function(n,e,t){n.exports=t.p+"img/我的.93fbcf72.png"},"56d7":function(n,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var c=t("2b0e"),a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticStyle:{"max-width":"600px",margin:"0 auto"},attrs:{id:"app"}},[t("router-view")],1)},o=[],u={created:function(){console.log(1)}},r=u,i=(t("5c0b"),t("2877")),s=Object(i["a"])(r,a,o,!1,null,null,null),d=s.exports,f=(t("d3b7"),t("8c4f")),h=function(){var n=this,e=n.$createElement,c=n._self._c||e;return c("div",[c("div",[c("van-tabbar",{attrs:{route:"","safe-area-inset-bottom":"","active-color":"#000"},on:{change:n.onChange},model:{value:n.active,callback:function(e){n.active=e},expression:"active"}},[c("van-tabbar-item",{staticClass:"position",attrs:{to:"/home"},on:{click:function(e){n.btnIndex=0,n.clickTest()}}},[c("img",{staticClass:"tabImage",attrs:{src:t("ed6e"),alt:""}})]),c("van-tabbar-item",{staticClass:"position",attrs:{to:"/management"},on:{click:function(e){n.btnIndex=1}}},[c("img",{staticClass:"tabImage",attrs:{src:t("ec74"),alt:""}})]),c("van-tabbar-item",{staticClass:"position",attrs:{to:"/mine"},on:{click:function(e){n.btnIndex=2}}},[c("img",{staticClass:"tabImage",attrs:{src:t("4f28"),alt:""}})])],1)],1),c("router-view")],1)},l=[],m=(t("99af"),t("4160"),t("0d03"),t("159b"),{components:{},data:function(){return{btnIndex:0,active:0}},computed:{userInfo:function(){return JSON.parse(this.$store.state.memberInfo)}},created:function(){switch(console.log(this.$route.path),this.$route.path){case"/":this.btnIndex=0;break;case"/management":this.btnIndex=1;break;case"/mine":this.btnIndex=2;break}var n=JSON.parse(localStorage.getItem("userPwd"));if(console.log(n),console.log(+new Date),n){if(!(n.time>+new Date))return!1;this.Login(n.userName,n.password)}},mounted:function(){var n=document.getElementsByClassName("position");n[this.btnIndex].style.background="#fff"},watch:{},methods:{clickTest:function(){var n=document.getElementsByClassName("position");n.forEach((function(n){n.style.background="#E3E3E3",n.style.borderRadius=0})),n[0].style.background="#fff"},onChange:function(n){console.log(n);var e=document.getElementsByClassName("position");e.forEach((function(n){n.style.background="#E3E3E3",n.style.borderRadius=0})),e[n].style.background="#fff"},Login:function(n,e){var t=this;this.$axios.login("ym/oauth/token?username=".concat(n,"&password=").concat(e,"&grant_type=password&client_id=app&client_secret=app")).then((function(n){200===n.status&&0===n.data.code?(t.$store.commit("SAVEUSERINFO",JSON.stringify(n.data.data)),t.getUserInfo()):console.log("登录失败")}))},getUserInfo:function(){var n=this;this.$axios.get("ym/memberuser/user-info").then((function(e){window.console.log(e),0===e.code&&n.$store.commit("SAVEMEMBERINFO",JSON.stringify(e.data))})),this.$axios.get("ym/menu/list").then((function(n){window.console.log(n)}))}}}),b=m,p=(t("21bb"),Object(i["a"])(b,h,l,!1,null,null,null)),k=p.exports,g=function(){return t.e("chunk-2bf05644").then(t.bind(null,"a55b"))},v=function(){return t.e("chunk-4524d9ce").then(t.bind(null,"73cf"))},y=function(){return t.e("chunk-3f6a83ce").then(t.bind(null,"70c2"))};c["a"].use(f["a"]);var I=[{path:"/",component:k,children:[{path:"/",component:function(){return t.e("chunk-4279de3a").then(t.bind(null,"adea"))}},{path:"/home",name:"home",component:function(){return t.e("chunk-4279de3a").then(t.bind(null,"adea"))}},{path:"/classification",name:"classification",component:function(){return t.e("chunk-00d3d96d").then(t.bind(null,"398c"))}},{path:"/management",name:"management",component:function(){return t.e("chunk-5862d354").then(t.bind(null,"c507"))}},{path:"/mine",name:"mine",component:function(){return t.e("chunk-698e1866").then(t.bind(null,"4176"))}}]},{path:"/commodityDetails",name:"commodityDetails",component:function(){return t.e("chunk-11b58d7c").then(t.bind(null,"3255"))}},{path:"/login",name:"Login",component:g},{path:"/register",name:"Register",component:v},{path:"/shop",name:"shop",component:y},{path:"/course",name:"course",component:function(){return t.e("chunk-f913ae0a").then(t.bind(null,"eeb0"))}},{path:"/pay",name:"pay",component:function(){return t.e("chunk-28f8afee").then(t.bind(null,"c576"))}},{path:"/cardPayment",name:"cardPayment",component:function(){return t.e("chunk-ad9bf4d4").then(t.bind(null,"e4a4"))}},{path:"/homeTodetails",name:"homeTodetails",component:function(){return t.e("chunk-4d175dd2").then(t.bind(null,"189d"))}},{path:"/a",name:"a",component:function(){return t.e("chunk-1ba3c154").then(t.bind(null,"09c9"))}},{path:"/retrieve_password",name:"retrieve_password",component:function(){return t.e("chunk-379dc2f6").then(t.bind(null,"f369"))}},{path:"/addr",name:"addr",component:function(){return t.e("chunk-5997d729").then(t.bind(null,"0a68"))}},{path:"/userInfo",name:"userInfo",component:function(){return t.e("chunk-064fe8fa").then(t.bind(null,"f095"))}},{path:"/buildPayPassword",name:"buildPayPassword",component:function(){return t.e("chunk-2d0be65a").then(t.bind(null,"2fa1"))}},{path:"/modifyLoginPsd",name:"modifyLoginPsd",component:function(){return t.e("chunk-2d0d9fbd").then(t.bind(null,"6a51"))}},{path:"/genealogy",name:"genealogy",component:function(){return t.e("chunk-30fbb861").then(t.bind(null,"b730"))}},{path:"/businessSetting",name:"businessSetting",component:function(){return t.e("chunk-e8b792e6").then(t.bind(null,"9220"))}},{path:"/changeBusinessName",name:"changeBusinessName",component:function(){return t.e("chunk-69fdce6f").then(t.bind(null,"436e"))}},{path:"/changeBusinessPhone",name:"changeBusinessPhone",component:function(){return t.e("chunk-95cdf264").then(t.bind(null,"6fe4"))}},{path:"/changeBusinessAvator",name:"changeBusinessAvator",component:function(){return t.e("chunk-d85dae82").then(t.bind(null,"1e49"))}},{path:"/changeIntroduction",name:"changeIntroduction",component:function(){return t.e("chunk-0f304c8e").then(t.bind(null,"538d"))}},{path:"/commodity",name:"commodity",component:function(){return t.e("chunk-09c72a30").then(t.bind(null,"fbb2"))}},{path:"/orderManage",name:"orderManage",component:function(){return t.e("chunk-9d52d5f0").then(t.bind(null,"b41c"))}},{path:"/postProductInfo",name:"postProductInfo",component:function(){return t.e("chunk-4181eb8d").then(t.bind(null,"8f72"))}},{path:"/businessDetails",name:"businessDetails",component:function(){return t.e("chunk-79dedaf5").then(t.bind(null,"0cc4"))}},{path:"/settledinStores",component:function(){return t.e("chunk-159b13cc").then(t.bind(null,"a97d"))}},{path:"/bankCard",name:"bankCard",component:function(){return t.e("chunk-2dae8b62").then(t.bind(null,"16a0"))}},{path:"/Recommend",name:"Recommend",component:function(){return t.e("chunk-5d6b4132").then(t.bind(null,"4802"))}},{path:"/agreement",name:"agreement",component:function(){return t.e("chunk-1ee3690e").then(t.bind(null,"d6b5"))}}],w=new f["a"]({base:"/",routes:I}),S=w,E=t("2f62");c["a"].use(E["a"]);var x=new E["a"].Store({state:{userInfo:sessionStorage.getItem("userInfo"),memberInfo:sessionStorage.getItem("memberInfo"),businessInfo:sessionStorage.getItem("businessInfo"),wxSdk:sessionStorage.getItem("wxjsdk")},mutations:{SAVEUSERINFO:function(n,e){n.userInfo=e,sessionStorage.setItem("userInfo",e)},SAVEMEMBERINFO:function(n,e){n.memberInfo=e,sessionStorage.setItem("memberInfo",e)},SAVEBUSINESSINFO:function(n,e){n.businessInfo=e,sessionStorage.setItem("business",JSON.stringify(e))},STORAGEWXJSAPI:function(n,e){n.wxSdk=e,sessionStorage.setItem("wxjsdk",e)}},actions:{},modules:{}}),P=t("b970"),O=t("f564"),C=t("d399"),N=(t("157a"),t("3a10"),t("bc3a")),_=t.n(N),j="http://www.ym718.com/api/",A=_.a.create({baseURL:"",timeout:1e4,withCredentials:!1});A.defaults.headers.get["Content-Type"]="application/json; charset=utf-8",A.interceptors.response.use((function(n){return 200!==n.status?Promise.reject(n):403!==n.data.code?Promise.resolve(n):(sessionStorage.removeItem("userInfo"),Object(C["a"])({message:"登录过期，请重新登录",duration:1e3,forbidClick:!0}),void setTimeout((function(){S.push("/login")}),1e3))}),(function(n){console.log(n);var e=n.response.status;switch(e){case 500:Object(C["a"])({message:"服务器错误，请稍后重试！",duration:1e3,forbidClick:!0});break;default:return!1}return Promise.reject(n)}));var B={notLoggedIn:function(n){return new Promise((function(e,t){A.get(j+n).then((function(n){console.log(n),0===n.data.code?e(n.data.data):t(n.data.msg)}))}))},get:function(n){var e=JSON.parse(x.state.userInfo);return new Promise((function(t){if(!e)return Object(C["a"])({message:"登录过期，请重新登录",duration:1e3,forbidClick:!0}),S.push("/login"),!1;A.get(j+n,{headers:{Authorization:"bearer ".concat(e.access_token)}}).then((function(n){var e=n.status,c=n.data.code;200===e&&0===c&&t(n.data)}))}))},post:function(n,e){var t=JSON.parse(x.state.userInfo);return new Promise((function(c){A.post(j+n,e,{headers:{Authorization:"bearer ".concat(t.access_token)}}).then((function(n){c(n)}))}))},login:function(n,e){return new Promise((function(t){A.post(j+n,e).then((function(n){t(n)}))}))},imageUpload:function(n,e){var t=JSON.parse(x.state.userInfo);return new Promise((function(c){var a={headers:{Authorization:"bearer"+t.access_token,"Content-Type":"form-data"}};A.post(j+n,e,a).then((function(n){c(n)}))}))},register:function(n,e){return new Promise((function(t){A.post(j+n,e,{headers:{Authorization:"Basic cGInOnBpZw==","Accept-Language":"zh_CN"}}).then((function(n){t(n)}))}))}};c["a"].prototype.$axios=B,c["a"].prototype.$Notify=O["a"],c["a"].prototype.$Toast=C["a"],c["a"].use(P["a"]),c["a"].config.productionTip=!1,new c["a"]({router:S,store:x,render:function(n){return n(d)}}).$mount("#app")},"5c0b":function(n,e,t){"use strict";var c=t("9c0c"),a=t.n(c);a.a},"9c0c":function(n,e,t){},ec74:function(n,e,t){n.exports=t.p+"img/管理.ace5ee63.png"},ed6e:function(n,e,t){n.exports=t.p+"img/首页.674cd1aa.png"}});
//# sourceMappingURL=index.40f5b5ab.js.map