(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bf05644"],{"206d":function(t,e,s){"use strict";var a=s("4413"),o=s.n(a);o.a},4413:function(t,e,s){},a55b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loginBox"},[t._m(0),s("div",{staticClass:"fromSty"},[s("div",{staticClass:"userNameSty"},[s("span",[t._v("用户名:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"inputSty",attrs:{placeholder:"请输入邮箱/手机号",type:"text"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),s("div",{staticClass:"passwordSty"},[s("span",[t._v("密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inputSty",attrs:{placeholder:"密码",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",[s("van-button",{staticStyle:{"border-radius":"5px"},attrs:{type:"danger",block:""},on:{click:function(e){return t.Login()}}},[t._v("登录")])],1)]),s("div",{staticClass:"loginAuto"},[s("div",{staticClass:"checkbox"},[s("van-checkbox",{attrs:{shape:"square"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("自动登录")])],1),s("div",{staticClass:"rightLink"},[s("span",[s("router-link",{staticStyle:{color:"rgba(123, 167, 199)"},attrs:{to:"/register"}},[t._v("免费注册")])],1),s("span",{staticStyle:{"padding-left":"15px"}},[s("router-link",{staticStyle:{color:"rgba(123, 167, 199)"},attrs:{to:"/retrieve_password"}},[t._v("忘记密码?")])],1)])]),t._m(1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("span",{staticClass:"iconfont icon-left leftIcon"}),s("p",{staticClass:"centerText"},[t._v("会员登录")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottomlink"},[s("p",[t._v("第三方登录")])])}],n=(s("99af"),s("0d03"),{data:function(){return{checked:!1,userName:null,password:null}},created:function(){},methods:{Login:function(){var t=this;this.$axios.login("ym/oauth/token?username=".concat(this.userName,"&password=").concat(this.password,"&grant_type=password&client_id=app&client_secret=app")).then((function(e){if(console.log(e),200===e.status&&0===e.data.code){var s={userName:t.userName,password:t.password,time:+new Date+6048e5};t.checked?localStorage.setItem("userPwd",JSON.stringify(s)):(JSON.parse(localStorage.getItem("userPwd"))?localStorage.setItem("userPwd",null):console.log("本地没有缓存"),console.log("no store pwd")),t.$store.commit("SAVEUSERINFO",JSON.stringify(e.data.data)),t.$Notify({type:"success",message:e.data.msg}),t.$router.push("/"),t.getUserInfo()}else t.$Notify({type:"danger",message:e.data.msg})}))},getUserInfo:function(){var t=this;this.$axios.get("ym/memberuser/user-info").then((function(e){window.console.log(e),0===e.code&&t.$store.commit("SAVEMEMBERINFO",JSON.stringify(e.data))})),this.$axios.get("ym/menu/list").then((function(t){window.console.log(t)}))}}}),i=n,r=(s("206d"),s("2877")),c=Object(r["a"])(i,a,o,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2bf05644.c8420826.js.map