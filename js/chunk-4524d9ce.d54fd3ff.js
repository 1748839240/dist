(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4524d9ce"],{"70b7":function(e,t,o){e.exports=o.p+"img/register.b038b29e.png"},"73cf":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"100vh",background:"#fff"}},[o("span",{staticClass:"iconfont icon-left",staticStyle:{position:"absolute",left:"10px",top:"10px","z-index":"9999","font-size":"20px"},on:{click:function(t){return e.goUpperStory()}}}),o("div",[o("van-swipe",e._l(e.images,(function(e,t){return o("van-swipe-item",{key:t},[o("img",{staticStyle:{width:"100%",height:"200px"},attrs:{src:e}})])})),1)],1),e._m(0),o("div",[o("van-tabs",{attrs:{background:"#F0F0F2"}},[o("van-tab",{attrs:{title:"注册个人账户"}},[o("div",[o("div",{staticClass:"registerFrom"},[o("div",[o("span",[e._v("注册账号:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.phone,expression:"userInfo.phone"}],attrs:{maxlength:"11",type:"text",placeholder:"输入手机号码"},domProps:{value:e.userInfo.phone},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"phone",t.target.value)}}})]),o("div",[o("span",[e._v("手机验证:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.phoneCode,expression:"userInfo.phoneCode"}],staticStyle:{width:"30%"},attrs:{type:"text",placeholder:"获取验证码"},domProps:{value:e.userInfo.phoneCode},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"phoneCode",t.target.value)}}}),o("input",{staticStyle:{width:"30%",background:"#ccc",padding:"1px","border-radius":"5px"},style:{color:e.enable?"#eee":"#000"},attrs:{disabled:e.enable,type:"button",value:e.verification_Info},on:{click:function(t){return e.getCode()}}})]),o("div",[o("span",[e._v("密 码:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"}],attrs:{type:"password",placeholder:"666"},domProps:{value:e.userInfo.password},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"password",t.target.value)}}})]),o("div",[o("span",[e._v("确认密码:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.rePassword,expression:"userInfo.rePassword"}],attrs:{type:"password",placeholder:"666"},domProps:{value:e.userInfo.rePassword},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"rePassword",t.target.value)}}})]),o("div",[o("span",[e._v("邀约码:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.referralCode,expression:"userInfo.referralCode"}],attrs:{disabled:"",type:"text",placeholder:"54000000"},domProps:{value:e.userInfo.referralCode},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"referralCode",t.target.value)}}})])]),o("div",{staticStyle:{"margin-left":"30px"}},[o("span",{staticStyle:{"font-size":"13px","letter-spacing":"1px"}},[e._v("同意注册协议")]),o("van-checkbox",{staticStyle:{display:"inline-block","padding-left":"10px"},attrs:{"icon-size":"16","checked-color":"#000",shape:"square"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),o("div",{staticStyle:{padding:"10px"}},[o("van-button",{staticStyle:{width:"50%",height:"35px","line-height":"35px"},attrs:{type:"default",color:"rgba(33,86,140)"},on:{click:function(t){return e.register()}}},[e._v("同意并提交")]),o("van-button",{staticStyle:{width:"50%",height:"35px","line-height":"35px"},attrs:{type:"default",color:"rgba(0,210,255)",size:"small"}},[e._v("放弃并退出")])],1)])]),o("van-tab",{attrs:{title:"注册公共账户"}})],1)],1)])},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("p",{staticStyle:{"text-align":"center",color:"#AC1202",margin:"0"}},[e._v("网站通知")])])}],r={data:function(){return{checked:!1,num:300,enable:!1,verification_Info:"获取验证码",images:[o("70b7")],userInfo:{phone:null,phoneCode:null,password:null,rePassword:null,referralCode:null}}},created:function(){this.$route.query.code&&(this.userInfo.referralCode=this.$route.query.code)},methods:{goUpperStory:function(){this.$router.go(-1)},getCode:function(){var e=this;if(this.userInfo.phone){var t=this.phoneFun(this.userInfo.phone);if(!t)return this.$Notify({type:"danger",message:"手机号格式不正确!"}),!1;var o={phone:this.userInfo.phone,sendType:"con_smstype_register"};this.$axios.register("ym/public/member-send-verifycode",o).then((function(t){200===t.status&&0===t.data.code?(sessionStorage.setItem("phoneCode",t.data.data.codeTest),e.$Notify({type:"success",message:"验证码发送成功!"}),e.enable=!0,e.countDown()):200===t.status&&1===t.data.code&&t.data.data.residueSecond>0&&(e.enable=!0,e.num=t.data.data.residueSecond,e.countDown(),e.$Notify({type:"warning",message:"验证码还在有效期!"}))}))}else this.$Notify({type:"danger",message:"请输入手机号!"})},register:function(){var e=this,t=this.userInfo;if(console.log(t),t.phone)if(t.password===t.rePassword){if(t.phoneCode!==sessionStorage.getItem("phoneCode"))return this.$Notify({type:"danger",message:"验证码不匹配，请重新输入！"}),this.userInfo.phoneCode=null,!1;if(t.referralCode){var o={phone:t.phone,password:t.password,rePassword:t.rePassword,phoneCode:t.phoneCode,referralCode:t.referralCode};this.$axios.register("ym/public/member-register",o).then((function(t){200===t.status&&0===t.data.code?(e.$Notify({type:"success",message:"注册成功"}),e.$router.push("/login")):e.$Notify({type:"danger",message:t.data.msg})}))}else this.$Notify({type:"danger",message:"推荐码不能为空！"})}else this.$Notify({type:"danger",message:"密码输入不一致"})},phoneFun:function(e){var t=/^[1][3,4,5,7,8,9][0-9]{9}$/;return!!t.test(e)},countDown:function(){var e=setTimeout(this.countDown,1e3);this.num=this.num-1,this.verification_Info=this.num+"秒后再试",0===this.num&&(this.num=300,this.enable=!1,this.verification_Info="获取验证码",clearTimeout(e))}}},a=r,i=(o("a894"),o("2877")),d=Object(i["a"])(a,s,n,!1,null,null,null);t["default"]=d.exports},a894:function(e,t,o){"use strict";var s=o("db38"),n=o.n(s);n.a},db38:function(e,t,o){}}]);
//# sourceMappingURL=chunk-4524d9ce.d54fd3ff.js.map