{"version":3,"sources":["webpack:///./src/views/secondlevelPage/modifyLoginPsd.vue?d17d","webpack:///src/views/secondlevelPage/modifyLoginPsd.vue","webpack:///./src/views/secondlevelPage/modifyLoginPsd.vue?0250","webpack:///./src/views/secondlevelPage/modifyLoginPsd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","on","$event","goUpperStory","_v","attrs","model","value","callback","$$v","phone","expression","code","enable","getVerificationCode","slot","_s","verification_Info","password","newPassword","reNewPassword","modifyPsd","staticRenderFns","data","mounted","methods","$router","go","retu","sendType","$axios","post","msg","$Notify","type","message","phoneFun","myreg","test","phones","countDown","num","clearTimeout","temp","phoneCode","oldPassword","rePassword","component"],"mappings":"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","file":"js/chunk-2d0d9fbd.f67336f2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"height\":\"50px\",\"line-height\":\"50px\",\"background\":\"#eee\"}},[_c('span',{staticClass:\"iconfont icon-left\",staticStyle:{\"padding\":\"0 10px\"},on:{\"click\":function($event){return _vm.goUpperStory()}}}),_c('span',[_vm._v(\"修改登录密码\")])]),_c('div',[_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"text\",\"label\":\"用户名\",\"placeholder\":\"手机号或者邮箱\",\"required\":\"\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"短信验证码\",\"placeholder\":\"请输入短信验证码\",\"required\":\"\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"disabled\":_vm.enable,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getVerificationCode()}},slot:\"button\"},[_vm._v(_vm._s(_vm.verification_Info))])],1),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"原密码\",\"placeholder\":\"请输入原密码\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"新密码\",\"placeholder\":\"请输入新密码\",\"required\":\"\"},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"新重复密码\",\"placeholder\":\"请输入新重复密码\",\"required\":\"\"},model:{value:(_vm.reNewPassword),callback:function ($$v) {_vm.reNewPassword=$$v},expression:\"reNewPassword\"}})],1)],1),_c('div',[_c('van-button',{attrs:{\"type\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.modifyPsd()}}},[_vm._v(\"确认修改\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div style=\"height:50px;line-height:50px;background:#eee\">\n      <span class=\"iconfont icon-left\" style=\"padding:0 10px\" @click=\"goUpperStory()\"></span>\n      <span>修改登录密码</span>\n    </div>\n    <div>\n      <van-cell-group>\n        <van-field v-model=\"phone\" type=\"text\" label=\"用户名\" placeholder=\"手机号或者邮箱\" required />\n        <van-field v-model=\"code\" center clearable label=\"短信验证码\" placeholder=\"请输入短信验证码\" required>\n          <van-button\n            :disabled=\"enable\"\n            slot=\"button\"\n            size=\"small\"\n            type=\"primary\"\n            @click=\"getVerificationCode()\"\n          >{{verification_Info}}</van-button>\n        </van-field>\n        <van-field v-model=\"password\" type=\"password\" label=\"原密码\" placeholder=\"请输入原密码\" required />\n        <van-field v-model=\"newPassword\" type=\"password\" label=\"新密码\" placeholder=\"请输入新密码\" required />\n        <van-field\n          v-model=\"reNewPassword\"\n          type=\"password\"\n          label=\"新重复密码\"\n          placeholder=\"请输入新重复密码\"\n          required\n        />\n      </van-cell-group>\n    </div>\n    <div>\n      <van-button type=\"primary\" block @click=\"modifyPsd()\">确认修改</van-button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data: () => ({\n    phone: null,\n    password: null,\n    code: null,\n    num: 300,\n    verification_Info: \"获取验证码\",\n    enable: false,\n    newPassword: null,\n    reNewPassword: null\n  }),\n  mounted() {},\n  methods: {\n    goUpperStory() {\n      this.$router.go(-1);\n    },\n    getVerificationCode() {\n      let retu = this.phoneFun(this.phone);\n      if (this.phone && retu) {\n        let data = {\n          sendType: \"con_smstype_forgetpassword\",\n          phone: this.phone\n        };\n        //console.log(data)\n        this.$axios.post(`ym/public/member-send-verifycode`, data).then(msg => {\n          //console.log(msg);\n          if (msg.data.code === 0) {\n            this.$Notify({ type: \"success\", message: msg.data.msg });\n            this.enable = true;\n            this.countDown();\n          } else {\n            if (msg.data.data) {\n              this.$Notify({ type: \"warning\", message: msg.data.msg });\n              this.enable = true;\n              this.num = msg.data.data.residueSecond;\n              this.countDown();\n            } else if(msg.data.code === 403) {\n              this.$Notify({ type: \"warning\", message: \"请重新登录！\" });\n            }\n          }\n        });\n      } else {\n        this.$Notify({\n          type: \"danger\",\n          message: \"手机号格式不正确,请重新输入!\"\n        });\n      }\n    },\n\n    phoneFun(phones) {\n      var myreg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\n      if (!myreg.test(phones)) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    countDown() {\n      let temp = setTimeout(this.countDown, 1000);\n      this.num = this.num - 1;\n      this.verification_Info = this.num + \"秒后再试\";\n      if (this.num === 0) {\n        // this.verifivationCode = false;\n        this.num = 300;\n        this.enable = false;\n        this.verification_Info = \"获取验证码\";\n        clearTimeout(temp);\n      }\n    },\n    modifyPsd() {\n      let data = {\n        phone: this.phone,\n        phoneCode: this.code,\n        oldPassword: this.password,\n        password: this.newPassword,\n        rePassword: this.reNewPassword\n      };\n      //console.log(data);\n      this.$axios\n        .post(`ym/memberuser/member-modify-password`, data)\n        .then(msg => {\n              //console.log(msg)\n          if (msg.data.code === 403) {\n            this.$Notify({ type: \"success\", message: msg.data.msg });\n            setTimeout(()=>{\n              this.$router.push('/')\n            },1000)\n          } else {\n            this.$Notify({ type: \"warning\", message: msg.data.msg });\n          }\n        });\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modifyLoginPsd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modifyLoginPsd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modifyLoginPsd.vue?vue&type=template&id=28d0a0b2&\"\nimport script from \"./modifyLoginPsd.vue?vue&type=script&lang=js&\"\nexport * from \"./modifyLoginPsd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}