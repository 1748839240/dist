(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09c72a30"],{"4d98":function(t,i,s){"use strict";var o=s("86a4"),a=s.n(o);a.a},"86a4":function(t,i,s){},a434:function(t,i,s){"use strict";var o=s("23e7"),a=s("23cb"),n=s("a691"),e=s("50c4"),c=s("7b0b"),l=s("65f0"),d=s("8418"),r=s("1dde"),f=Math.max,u=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!r("splice")},{splice:function(t,i){var s,o,r,m,p,g,_=c(this),b=e(_.length),y=a(t,b),C=arguments.length;if(0===C?s=o=0:1===C?(s=0,o=b-y):(s=C-2,o=u(f(n(i),0),b-y)),b+s-o>h)throw TypeError(v);for(r=l(_,o),m=0;m<o;m++)p=y+m,p in _&&d(r,m,_[p]);if(r.length=o,s<o){for(m=y;m<b-o;m++)p=m+o,g=m+s,p in _?_[g]=_[p]:delete _[g];for(m=b;m>b-o+s;m--)delete _[m-1]}else if(s>o)for(m=b-o;m>y;m--)p=m+o-1,g=m+s-1,p in _?_[g]=_[p]:delete _[g];for(m=0;m<s;m++)_[m+y]=arguments[m+2];return _.length=b-o+s,r}})},fbb2:function(t,i,s){"use strict";s.r(i);var o=function(){var t=this,i=this,s=i.$createElement,o=i._self._c||s;return o("div",[o("div",{staticClass:"title"},[o("span",{staticClass:"iconfont icon-left gobackIcon",on:{click:function(){t.$router.go(-1)}}}),o("p",[i._v("商品管理")]),o("span",{staticClass:"title_rightAddBtn",on:{click:function(){t.$router.push("/postProductInfo")}}},[i._v("发布")])]),o("div",[o("van-tabs",{attrs:{"line-height":"2px","title-active-color":"#0cbccb",color:"#0cbccb"},model:{value:i.active,callback:function(t){i.active=t},expression:"active"}},i._l(i.tabitem,(function(t,s){return o("van-tab",{key:s,attrs:{title:t}},[o("div",[o("van-list",{attrs:{finished:i.finished,"finished-text":"没有更多了"},on:{load:i.onLoad},model:{value:i.loading,callback:function(t){i.loading=t},expression:"loading"}},i._l(i.commodityList,(function(t){return o("van-card",{key:t.id,staticStyle:{padding:"8px 0"}},[o("div",{staticStyle:{padding:"0 10px",height:"65px"},attrs:{slot:"thumb"},slot:"thumb"},[o("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.mainImage,alt:""}})]),o("div",{staticClass:"titleSty",attrs:{slot:"title"},slot:"title"},[i._v(i._s(t.productName))]),o("div",{staticClass:"descSty",attrs:{slot:"desc"},slot:"desc"},[o("span",{staticClass:"name"},[i._v("零售价:")]),o("span",{staticClass:"value"},[i._v("￥"+i._s(t.retailPrice))])]),o("div",{staticClass:"priceSty",attrs:{slot:"price"},slot:"price"},[o("span",{staticClass:"name"},[i._v("库存:")]),o("span",{staticClass:"value"},[i._v(i._s(t.stock))])]),0===i.active||1===i.active?o("div",{staticClass:"footerBtn",attrs:{slot:"footer"},slot:"footer"},[o("ul",[o("li",[o("i",{staticClass:"iconfont icon-bianji1 icons"}),o("span",[i._v("编辑")])]),o("li",{on:{click:function(s){return i.deleteBusiness(t)}}},[o("i",{staticClass:"iconfont icon-shanchu icons"}),o("span",[i._v("删除")])]),o("li",{on:{click:function(s){return i.takeOff(t)}}},[o("i",{class:["iconfont",1===i.active?"icon-shangjia":"icon-xiajia","icons"]}),o("span",[i._v(i._s(1===i.active?"上架":"下架"))])])])]):i._e(),2===i.active?o("div",{staticClass:"revoke",attrs:{slot:"footer"},slot:"footer"},[o("ul",[o("li",[o("i",{staticClass:"iconfont icon-weibiaoti545 icons"}),o("span",[i._v("撤销")])])])]):i._e(),3===i.active?o("div",{staticClass:"fail",attrs:{slot:"footer"},slot:"footer"},[o("span",[i._v("审核意见："+i._s(t.auditOpinion))]),o("ul",[o("li",{on:{click:function(){i.$router.push("/postProductInfo")}}},[o("i",{staticClass:"iconfont icon-bianji2 icons"}),o("span",[i._v("编辑")])]),o("li",{on:{click:function(s){return i.deleteBusiness(t)}}},[o("i",{staticClass:"iconfont icon-shanchu icons"}),o("span",[i._v("删除")])])])]):i._e()])})),1)],1)])})),1)],1)])},a=[],n=(s("99af"),s("4160"),s("a434"),s("159b"),{data:function(){return{active:0,limit:5,page:1,loading:!1,finished:!1,commodityList:[],tabitem:["出售中","已下架","审核中","审核不通过"]}},created:function(){this.getCommdityList(1)},watch:{active:function(t){this.commodityList=[],this.loading=!0,this.finished=!1,this.limit=5,this.page=1,this.getCommdityList(t+1)}},methods:{takeOff:function(t){var i=this,s={id:t.id,salesStatus:0===this.active?0:1};console.log(s),this.$axios.post("ym/online-merchant-product/modify-sales-status",s).then((function(s){0===s.data.code?(i.commodityList.forEach((function(s,o){t.id===s.id&&i.commodityList.splice(o,1)})),0===i.active?i.$Toast("下架成功！"):i.$Toast("上架成功！")):0===i.active?i.$Toast("下架失败！"):i.$Toast("上架失败！"),console.log(s)}))},deleteBusiness:function(t){var i=this,s={id:t.id};this.$axios.post("ym/online-merchant-product/del",s).then((function(s){0===s.data.code?(i.commodityList.forEach((function(s,o){s.id==t.id&&i.commodityList.splice(o,1)})),i.$Toast("删除成功！")):i.$Toast("删除失败！")}))},getCommdityList:function(t){var i=this;this.$axios.get("ym/online-merchant-product/list?status=".concat(t,"&limit=").concat(this.limit,"&page=").concat(this.page)).then((function(t){if(0===t.code){var s=t.data.records;s.length>0?(s.forEach((function(t){i.commodityList.push(t)})),i.limit+=5,i.page+=1,i.loading=!1):i.finished=!0}else console.log(t.msg)}))},onLoad:function(){this.getCommdityList(this.active+1)}}}),e=n,c=(s("4d98"),s("2877")),l=Object(c["a"])(e,o,a,!1,null,"b35415d2",null);i["default"]=l.exports}}]);
//# sourceMappingURL=chunk-09c72a30.f3f32704.js.map