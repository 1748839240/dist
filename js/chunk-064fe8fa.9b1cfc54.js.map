{"version":3,"sources":["webpack:///./src/views/secondlevelPage/userInfo.vue?30bf","webpack:///./src/views/secondlevelPage/userInfo.vue?3d61","webpack:///src/views/secondlevelPage/userInfo.vue","webpack:///./src/views/secondlevelPage/userInfo.vue?7dd7","webpack:///./src/views/secondlevelPage/userInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","on","$event","goUpperStory","_v","attrs","slot","uploadAvatar","userInfo","avatar","realName","phone","buildPayPassword","staticRenderFns","data","computed","JSON","parse","$store","state","memberInfo","mounted","console","log","$axios","get","methods","$router","go","headers","Authorization","param","append","e","file","component"],"mappings":"2IAAA,yBAA0jB,EAAG,G,yCCA7jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,CAAC,WAAa,OAAO,QAAU,cAAc,CAACF,EAAG,IAAI,CAACG,YAAY,qBAAqBD,YAAY,CAAC,OAAS,gBAAgBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,mBAAmBN,EAAG,OAAO,CAACJ,EAAIW,GAAG,YAAYP,EAAG,MAAM,CAACA,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAACG,YAAY,SAASK,MAAM,CAAC,KAAO,QAAQ,UAAU,KAAK,CAACR,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACb,EAAIW,GAAG,QAAQP,EAAG,WAAW,CAACQ,MAAM,CAAC,KAAO,aAAa,KAAO,SAASC,KAAK,eAAeT,EAAG,eAAe,CAACE,YAAY,CAAC,OAAS,QAAQM,MAAM,CAAC,aAAaZ,EAAIc,eAAe,CAACV,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,OAAO,MAAQ,OAAO,cAAc,OAAO,QAAU,eAAe,gBAAgB,QAAQM,MAAM,CAAC,KAAO,UAAU,IAAMZ,EAAIe,SAASC,OAAO,IAAM,IAAIH,KAAK,eAAe,GAAGT,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,KAAK,KAAO,QAAQ,UAAU,GAAG,MAAQZ,EAAIe,SAASE,YAAYb,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,UAAU,GAAG,MAAQ,GAAG,GAAK,WAAWR,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,SAAS,KAAO,QAAQ,UAAU,GAAG,MAAQ,GAAG,GAAK,qBAAqBR,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,SAAS,KAAO,QAAQ,UAAU,GAAG,MAAQZ,EAAIe,SAASG,SAASd,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQ,SAAS,KAAO,QAAQ,UAAU,GAAG,MAAQZ,EAAImB,iBAAiB,MAAM,MAAM,GAAK,wBAAwB,IAAI,MACn4CC,EAAkB,GCoCtB,GACEC,KAAM,WAAR,OACA,wBAEEC,SAAU,CACRP,SADJ,WAEM,OAAOQ,KAAKC,MAAMvB,KAAKwB,OAAOC,MAAMC,cAGxCC,QATF,WASA,WACIC,QAAQC,IAAI7B,KAAKc,UACjBd,KAAK8B,OAAOC,IAAI,6BAApB,kBACM,EAAN,uCAIEC,QAAS,CACPvB,aADJ,WAEMT,KAAKiC,QAAQC,IAAI,IAEnBrB,aAJJ,SAIA,cACA,eACA,GACQsB,QAAS,CACPC,cACV,6DACU,eAAgB,cAGpBC,EAAMC,OAAO,QAASC,EAAEC,MAExBxC,KAAK8B,OACX,KADA,iCACA,KACA,kBAEQ,GADA,QAAR,OACA,iBACU,IAAV,GACY,OAAZ,uBAEU,EAAV,OACA,KADA,qCACA,GACA,kBACY,OAAZ,eACY,EAAZ,6BChFiW,I,wBCQ7VW,EAAY,eACd,EACA3C,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"js/chunk-064fe8fa.9b1cfc54.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=style&index=0&id=3f3b3cf1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=style&index=0&id=3f3b3cf1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"background\":\"#eee\",\"padding\":\"10px 10px\"}},[_c('i',{staticClass:\"iconfont icon-left\",staticStyle:{\"margin\":\"0 20px 0 5px\"},on:{\"click\":function($event){return _vm.goUpperStory()}}}),_c('span',[_vm._v(\"个人信息\")])]),_c('div',[_c('van-cell-group',[_c('van-cell',{staticClass:\"avatar\",attrs:{\"size\":\"large\",\"is-link\":\"\"}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"头像\")]),_c('van-icon',{attrs:{\"slot\":\"right-icon\",\"name\":\"arrow\"},slot:\"right-icon\"}),_c('van-uploader',{staticStyle:{\"height\":\"50px\"},attrs:{\"after-read\":_vm.uploadAvatar}},[_c('img',{staticStyle:{\"height\":\"50px\",\"width\":\"50px\",\"line-height\":\"50px\",\"display\":\"inline-block\",\"border-radius\":\"10px\"},attrs:{\"slot\":\"default\",\"src\":_vm.userInfo.avatar,\"alt\":\"\"},slot:\"default\"})])],1),_c('van-cell',{attrs:{\"title\":\"昵称\",\"size\":\"large\",\"is-link\":\"\",\"value\":_vm.userInfo.realName}}),_c('van-cell',{attrs:{\"title\":\"收货地址\",\"size\":\"large\",\"is-link\":\"\",\"value\":\"\",\"to\":\"/addr\"}}),_c('van-cell',{attrs:{\"title\":\"登录密码修改\",\"size\":\"large\",\"is-link\":\"\",\"value\":\"\",\"to\":\"/modifyLoginPsd\"}}),_c('van-cell',{attrs:{\"title\":\"绑定的手机号\",\"size\":\"large\",\"is-link\":\"\",\"value\":_vm.userInfo.phone}}),_c('van-cell',{attrs:{\"title\":\"支付密码绑定\",\"size\":\"large\",\"is-link\":\"\",\"value\":_vm.buildPayPassword?'已绑定':'未绑定',\"to\":\"/buildPayPassword\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div style=\"background:#eee;padding:10px 10px\">\n      <i class=\"iconfont icon-left\" style=\"margin:0 20px 0 5px\" @click=\"goUpperStory()\"></i>\n      <span>个人信息</span>\n    </div>\n    <div>\n      <van-cell-group>\n        <van-cell size=\"large\" is-link class=\"avatar\">\n          <span slot=\"title\">头像</span>\n          <van-icon slot=\"right-icon\" name=\"arrow\" />\n          <van-uploader style=\"height:50px;\" :after-read=\"uploadAvatar\">\n            <img\n              slot=\"default\"\n              style=\"height:50px;width:50px;line-height:50px;display:inline-block;border-radius:10px\"\n              :src=\"userInfo.avatar\"\n              alt\n            />\n          </van-uploader>\n        </van-cell>\n        <van-cell title=\"昵称\" size=\"large\" is-link :value=\"userInfo.realName\" />\n        <van-cell title=\"收货地址\" size=\"large\" is-link value to=\"/addr\" />\n        <van-cell title=\"登录密码修改\" size=\"large\" is-link value to=\"/modifyLoginPsd\" />\n        <van-cell title=\"绑定的手机号\" size=\"large\" is-link :value=\"userInfo.phone\" />\n        <van-cell\n          title=\"支付密码绑定\"\n          size=\"large\"\n          is-link\n          :value=\"buildPayPassword?'已绑定':'未绑定'\"\n          to=\"/buildPayPassword\"\n        />\n      </van-cell-group>\n    </div>\n  </div>\n</template>\n<script>\n// import axios from \"axios\";\nexport default {\n  data: () => ({\n    buildPayPassword: null\n  }),\n  computed: {\n    userInfo() {\n      return JSON.parse(this.$store.state.memberInfo);\n    }\n  },\n  mounted() {\n    console.log(this.userInfo);\n    this.$axios.get(`ym/memberuser/first-login`).then(msg => {\n      this.buildPayPassword = msg.data.bindPayPwd;\n      //console.log(msg)\n    });\n  },\n  methods: {\n    goUpperStory() {\n      this.$router.go(-1);\n    },\n    uploadAvatar(e) {\n      let param = new FormData();\n      let config = {\n        headers: {\n          Authorization:\n            \"bearer\" + JSON.parse(this.$store.state.userInfo).access_token,\n          \"Content-Type\": \"form-data\"\n        }\n      };\n      param.append(\"files\", e.file);\n      //console.log(e);\n      this.$axios\n        .post(`ym/oss-attachment/upload-image`, param, config)\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 0) {\n            let data = {\n              avatar: res.data.data[0].imgSrc\n            };\n            this.$axios\n              .post(`ym/memberuser/member-modify-avatar`, data)\n              .then(res => {\n                window.console.log(res);\n                this.$Toast(res.data.msg)\n              });\n          }\n        });\n      // axios\n      //   .post(\n      //     `http://43.248.122.225/api/ym/oss-attachment/upload-image`,\n      //     param,\n      //     config\n      //   )\n      //   .then(msg => {\n      //     if (msg.data.code === 0) {\n      //       let data = {\n      //         avatar: msg.data[0].imgSrc\n      //       };\n      //       //console.log(1)\n      //       this.$axios.post(`ym/memberuser/member-modify-avatar`, data).then(res=>{\n      //         window.console.log(res)\n      //       })\n      //     }\n      //   });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.avatar {\n  width: 100%;\n  line-height: 50px;\n  display: flex;\n  align-items: center;\n  .van-cell__value {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userInfo.vue?vue&type=template&id=3f3b3cf1&scoped=true&\"\nimport script from \"./userInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./userInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userInfo.vue?vue&type=style&index=0&id=3f3b3cf1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f3b3cf1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}